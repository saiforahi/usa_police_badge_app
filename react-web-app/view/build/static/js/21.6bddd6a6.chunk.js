(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[21],{813:function(e,t,a){"use strict";a.r(t);var c=a(680),s=a(1),n=a.n(s),l=a(676),r=a(20),j=(a(677),a(165)),i=a(685),d=a.n(i),o=a(16);t.default=function(){var e=Object(r.h)(),t=Object(r.g)(),a=Object(s.useState)(0),i=Object(c.a)(a,2),u=i[0],b=i[1],p=Object(s.useRef)(null),O=Object(s.useState)(),h=Object(c.a)(O,2),m=h[0],x=h[1],f=Object(s.useState)(),g=Object(c.a)(f,2),y=g[0],v=g[1],N=Object(s.useState)(null),C=Object(c.a)(N,2),S=C[0],_=C[1],E=Object(s.useState)(""),w=Object(c.a)(E,2),G=w[0],H=w[1],k=Object(s.useState)(""),B=Object(c.a)(k,2),F=B[0],L=B[1],P=Object(s.useState)(""),R=Object(c.a)(P,2),U=R[0],A=R[1],D=Object(s.useState)(""),J=Object(c.a)(D,2),T=J[0],Z=J[1],q=Object(s.useState)(""),z=Object(c.a)(q,2),I=z[0],K=z[1],M=Object(s.useState)(""),Q=Object(c.a)(M,2),V=Q[0],W=Q[1],X=Object(s.useState)(""),Y=Object(c.a)(X,2),$=Y[0],ee=Y[1];return n.a.useEffect((function(){void 0!=e.state&&j.e.get("profile/details/"+e.state.employee.id+"/").then((function(e){console.log("res --- ",e.data),"True"==e.data.success&&(x(j.b+e.data.data.profile_pic),_(e.data.data),H(e.data.data.email),L(e.data.data.username),A(e.data.data.first_name),Z(e.data.data.last_name),K(e.data.data.phone),W(e.data.data.registration),ee(e.data.data.address))})),b(1)}),[u]),Object(o.jsx)(o.Fragment,{children:e.state?Object(o.jsx)(l.O,{className:"justify-content-center",children:Object(o.jsx)(l.l,{md:"8",children:null!=S&&Object(o.jsxs)(l.e,{children:[Object(o.jsx)(l.i,{children:Object(o.jsxs)("h3",{children:["Details of ",Object(o.jsx)("strong",{children:S.first_name+" "+S.last_name})]})}),Object(o.jsxs)(l.f,{children:[Object(o.jsx)(l.O,{className:"justify-content-center",children:Object(o.jsx)(l.A,{onClick:function(){p.current.click()},className:"mx-auto",style:{height:"100px",width:"116px",cursor:"pointer"},shape:"rounded",src:m})}),Object(o.jsx)("hr",{}),Object(o.jsx)(l.O,{className:"justify-content-center",children:Object(o.jsx)("input",{type:"file",id:"file",ref:p,style:{display:"none"},onChange:function(e){return t=e.target.files[0],v(t),void x(URL.createObjectURL(t));var t}})}),Object(o.jsxs)(l.E,{className:"mb-3",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"First Name"})}),Object(o.jsx)(l.B,{value:U,onChange:function(e){return A(e.target.value)},type:"text",placeholder:"First Name",autoComplete:"first_name"})]}),Object(o.jsxs)(l.E,{className:"mb-3",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"Last Name"})}),Object(o.jsx)(l.B,{value:T,onChange:function(e){return Z(e.target.value)},type:"text",placeholder:"Last Name",autoComplete:"last_name"})]}),Object(o.jsxs)(l.E,{className:"mb-3",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"Email"})}),Object(o.jsx)(l.B,{value:G,onChange:function(e){return H(e.target.value)},type:"email",placeholder:"Email",autoComplete:"email"})]}),Object(o.jsxs)(l.E,{className:"mb-4",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"Phone"})}),Object(o.jsx)(l.B,{type:"text",placeholder:"Phone",value:I,onChange:function(e){return K(e.target.value)}})]}),Object(o.jsxs)(l.E,{className:"mb-4",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"Registration"})}),Object(o.jsx)(l.B,{type:"text",placeholder:"mac",autoComplete:"mac",value:V,onChange:function(e){return W(e.target.value)}})]}),Object(o.jsxs)(l.E,{className:"mb-4",children:[Object(o.jsx)(l.G,{children:Object(o.jsx)(l.H,{children:"Address"})}),Object(o.jsx)(l.Z,{type:"text",placeholder:"Phone",value:$,onChange:function(e){return ee(e.target.value)}})]})]}),Object(o.jsx)(l.g,{children:Object(o.jsx)(l.d,{color:"primary",className:"px-4",type:"button",onClick:function(){return function(){var t=new FormData;t.append("username",F),t.append("first_name",U),t.append("last_name",T),t.append("phone",I),t.append("email",G),t.append("address",$),t.append("registration",V),t.append("first_name",U),void 0!=y&&t.append("profile_pic",y),j.c.post("employee/profile/update/"+e.state.employee.id+"/",t).then((function(e){console.log("update result ---- ",e.data),"True"==e.data.success&&d()("Updated","Profile updated successfully","success")})).catch((function(e){console.log("err -- ",e.response)}))}()},children:"Update"})})]})})}):t.push("/dashboard/employees")})}}}]);
//# sourceMappingURL=21.6bddd6a6.chunk.js.map