(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[22],{814:function(e,t,a){"use strict";a.r(t);var c=a(645),s=a(1),n=a.n(s),l=a(639),r=a(20),j=(a(640),a(641)),i=a(653),d=a.n(i),o=a(17);t.default=function(){var e=Object(r.h)(),t=Object(r.g)(),a=Object(s.useState)(0),i=Object(c.a)(a,2),u=i[0],b=i[1],p=Object(s.useRef)(null),O=Object(s.useState)(),h=Object(c.a)(O,2),m=h[0],x=h[1],f=Object(s.useState)(),g=Object(c.a)(f,2),y=g[0],v=g[1],C=Object(s.useState)(null),N=Object(c.a)(C,2),S=N[0],_=N[1],F=Object(s.useState)(""),P=Object(c.a)(F,2),w=P[0],H=P[1],I=Object(s.useState)(""),k=Object(c.a)(I,2),L=k[0],R=k[1],U=Object(s.useState)(""),E=Object(c.a)(U,2),D=E[0],J=E[1],T=Object(s.useState)(""),A=Object(c.a)(T,2),B=A[0],q=A[1],z=Object(s.useState)(""),G=Object(c.a)(z,2),K=G[0],M=G[1],Q=Object(s.useState)(""),V=Object(c.a)(Q,2),W=V[0],X=V[1],Y=Object(s.useState)(""),Z=Object(c.a)(Y,2),$=Z[0],ee=Z[1];return n.a.useEffect((function(){void 0!=e.state&&j.d.get("profile/details/"+e.state.employee.id+"/").then((function(e){console.log("res --- ",e.data),"True"==e.data.success&&(x(j.b+e.data.data.profile_pic),_(e.data.data),H(e.data.data.email),R(e.data.data.username),J(e.data.data.first_name),q(e.data.data.last_name),M(e.data.data.phone),X(e.data.data.registration),ee(e.data.data.address))})),b(1)}),[u]),Object(o.jsx)(o.Fragment,{children:e.state?Object(o.jsx)(l.P,{className:"justify-content-center",children:Object(o.jsx)(l.l,{md:"8",children:null!=S&&Object(o.jsxs)(l.e,{children:[Object(o.jsx)(l.i,{children:Object(o.jsxs)("h3",{children:["Details of ",Object(o.jsx)("strong",{children:S.first_name+" "+S.last_name})]})}),Object(o.jsxs)(l.f,{children:[Object(o.jsx)(l.P,{className:"justify-content-center",children:Object(o.jsx)(l.B,{onClick:function(){p.current.click()},className:"mx-auto",style:{height:"100px",width:"116px",cursor:"pointer"},shape:"rounded",src:m})}),Object(o.jsx)("hr",{}),Object(o.jsx)(l.P,{className:"justify-content-center",children:Object(o.jsx)("input",{type:"file",id:"file",ref:p,style:{display:"none"},onChange:function(e){return t=e.target.files[0],v(t),void x(URL.createObjectURL(t));var t}})}),Object(o.jsxs)(l.F,{className:"mb-3",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"First Name"})}),Object(o.jsx)(l.C,{value:D,onChange:function(e){return J(e.target.value)},type:"text",placeholder:"First Name",autoComplete:"first_name"})]}),Object(o.jsxs)(l.F,{className:"mb-3",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"Last Name"})}),Object(o.jsx)(l.C,{value:B,onChange:function(e){return q(e.target.value)},type:"text",placeholder:"Last Name",autoComplete:"last_name"})]}),Object(o.jsxs)(l.F,{className:"mb-3",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"Email"})}),Object(o.jsx)(l.C,{value:w,onChange:function(e){return H(e.target.value)},type:"email",placeholder:"Email",autoComplete:"email"})]}),Object(o.jsxs)(l.F,{className:"mb-4",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"Phone"})}),Object(o.jsx)(l.C,{type:"text",placeholder:"Phone",value:K,onChange:function(e){return M(e.target.value)}})]}),Object(o.jsxs)(l.F,{className:"mb-4",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"Registration"})}),Object(o.jsx)(l.C,{type:"text",placeholder:"mac",autoComplete:"mac",value:W,onChange:function(e){return X(e.target.value)}})]}),Object(o.jsxs)(l.F,{className:"mb-4",children:[Object(o.jsx)(l.H,{children:Object(o.jsx)(l.I,{children:"Address"})}),Object(o.jsx)(l.ab,{type:"text",placeholder:"Phone",value:$,onChange:function(e){return ee(e.target.value)}})]})]}),Object(o.jsx)(l.g,{children:Object(o.jsx)(l.d,{color:"primary",className:"px-4",type:"button",onClick:function(){return function(){var t=new FormData;t.append("username",L),t.append("first_name",D),t.append("last_name",B),t.append("phone",K),t.append("email",w),t.append("address",$),t.append("registration",W),t.append("first_name",D),void 0!=y&&t.append("profile_pic",y),j.c.post("employee/profile/update/"+e.state.employee.id+"/",t).then((function(e){console.log("update result ---- ",e.data),"True"==e.data.success&&d()("Updated","Profile updated successfully","success")})).catch((function(e){console.log("err -- ",e.response)}))}()},children:"Update"})})]})})}):t.push("/dashboard/employees")})}}}]);
//# sourceMappingURL=22.21ec514c.chunk.js.map