(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[17],{828:function(e,t,n){},900:function(e,t,n){"use strict";n.r(t);var c=n(12),a=n(735),s=n(0),r=n.n(s),i=(n(828),n(734)),d=n(733),l=n(896),o=n(892),j=n(870),b=n(866),u=n(895),O=n(899),m=n(889),h=n(869),p=n(888),x=n(731),f=n(40),g=n(189),y=n(736),v=n.n(y),w=n(16),C=function(e){var t=Object(s.useState)(!0),n=Object(a.a)(t,2),c=n[0],i=n[1],l=Object(s.useState)(),o=Object(a.a)(l,2),j=o[0],b=o[1],u=Object(s.useState)(),O=Object(a.a)(u,2),m=O[0],h=O[1],p=Object(s.useState)(),x=Object(a.a)(p,2),y=x[0],C=x[1],N=Object(g.c)((function(e){var t=[];return Array.from(e.employees.data).forEach((function(e,n){t.push({id:e.id,name:e.first_name+" "+e.last_name})})),t})),k=function(){i(!1),e.parentCallback(!1)};return r.a.useEffect((function(){e.data&&h(e.data["Badge Number"])}),[c]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(d.L,{size:"lg",show:c,onClose:k,centered:!0,children:[Object(w.jsx)(d.O,{closeButton:!0,children:Object(w.jsx)("h3",{children:"Create a new badge and Assign to an officer"})}),Object(w.jsx)(d.M,{children:Object(w.jsx)(d.e,{style:{border:"none"},children:Object(w.jsxs)(d.f,{children:[Object(w.jsxs)(d.v,{className:"mb-3",children:[Object(w.jsx)(d.J,{children:"NFC"}),Object(w.jsx)(d.C,{value:m,placeholder:"Enter new NFC number",onChange:function(e){return h(e.target.value)},type:"text"})]}),Object(w.jsxs)(d.v,{className:"mb-3",children:[Object(w.jsx)(d.J,{children:"Registration No"}),Object(w.jsx)(d.C,{value:j,placeholder:"Enter registration no",onChange:function(e){return b(e.target.value)},type:"text"})]}),Object(w.jsxs)(d.v,{className:"mb-3",children:[Object(w.jsx)(d.J,{children:"Officer"}),Object(w.jsx)(d.U,{value:y,onChange:function(e){return C(e.target.value)},children:N.length>0&&Array.from(N).map((function(e){return Object(w.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})]})})}),Object(w.jsxs)(d.N,{children:[Object(w.jsx)(d.d,{onClick:function(){var e=new FormData;e.append("nfc_number",m),e.append("mac_address",j),e.append("user",y),f.c.post("employee/badge/add/",e).then((function(e){v()("Assigned!","New badge added and assigned","success").then((function(){k()}))}))},color:"primary",children:"Assign"})," ",Object(w.jsx)(d.d,{onClick:k,color:"secondary",children:"Cancel"})]})]})})},N=n(198);t.default=function(){var e=Object(g.b)(),t=Object(s.useState)(!1),n=Object(a.a)(t,2),y=n[0],k=n[1],S=Object(s.useState)(),A=Object(a.a)(S,2),_=A[0],E=A[1],B=r.a.useState(!1),D=Object(a.a)(B,2),T=D[0],F=D[1],P=r.a.useState(""),z=Object(a.a)(P,2),J=z[0],M=z[1],U=Object(s.useState)([]),q=Object(a.a)(U,2),I=q[0],L=q[1],W=(Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(){F(!1)});function G(e){v()("Sorry!","This service is not available now","warning")}return r.a.useEffect((function(){e(Object(N.b)()),f.e.get("employee/badge/info/").then((function(e){if("True"==e.data.success){console.log(e.data.data);for(var t=[],n=0;n<e.data.data.length;n++){var c=e.data.data[n];t.push({"#":n+1,id:c.id,"Badge Number":c.nfc_number,"Created Date":new Date(c.created_at).toLocaleDateString(),"Assigned To":c.user.first_name,Scans:"","Global Scans":""})}L(t)}}))}),[]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(d.T,{children:[Object(w.jsx)(d.l,{md:"12",children:Object(w.jsxs)(d.e,{children:[Object(w.jsx)(d.i,{children:Object(w.jsx)("h4",{className:"table-header",children:"Badges"})}),Object(w.jsxs)(d.f,{children:[Object(w.jsx)("div",{class:"custom-header",children:Object(w.jsx)(d.d,{type:"button",className:"button-primary-small",children:"Export"})}),Object(w.jsx)(d.n,{items:I,fields:[{key:"#",_style:{width:"5%"},_classes:"font-weight-bold"},"Badge Number","Created Date","Assigned To",{key:"Action",label:"",_style:{width:"12%"},sorter:!0,filter:!1}],primary:!0,hover:!0,striped:!0,bordered:!0,sorter:!0,columnFilter:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{Action:function(e){var t;return Object(w.jsxs)("td",{children:[Object(w.jsx)(d.d,(t={onClick:function(){},type:"button",size:"sm",color:"danger"},Object(c.a)(t,"onClick",(function(){return G()})),Object(c.a)(t,"children","Delete"),t))," ",Object(w.jsx)(d.d,{size:"sm",type:"button",color:"primary",id:"dropdownMenu",onClick:function(){return G()},children:"Assign"})]})}}})]})]})}),Object(w.jsxs)(d.l,{md:"12",children:[Object(w.jsx)(d.d,{onClick:function(){return G()},className:"button-primary assign-align",type:"button",children:"Assign all unassigned"}),Object(w.jsxs)(d.d,{type:"button",className:"button-primary add-align",id:"dropdownMenu2","data-toggle":"dropdown","aria-expanded":"false",onClick:function(){E(null),k(!0)},children:["Add New ",Object(w.jsx)(i.a,{name:"cil-plus",size:"xl"})]}),y&&Object(w.jsx)(C,{parentCallback:function(){var e;k(e)},data:_}),Object(w.jsxs)("div",{class:"dropdown",children:[Object(w.jsxs)("div",{class:"dropdown-menu mt-2","aria-labelledby":"dropdownMenu2",children:[Object(w.jsx)("button",{class:"dropdown-item",type:"button",children:"Buy New"}),Object(w.jsx)("div",{class:"dropdown-divider"}),Object(w.jsx)("button",{type:"button",class:"dropdown-item",onClick:function(){F(!0)},children:"Use Existing"})]}),Object(w.jsx)(o.a,{open:T,onClose:W,"aria-labelledby":"form-dialog-title",className:"d-block",children:Object(w.jsxs)("div",{className:"modal-comp",children:[Object(w.jsx)(u.a,{id:"form-dialog-title",children:"Use Existing Badge"}),Object(w.jsx)(b.a,{children:Object(w.jsxs)("form",{children:[Object(w.jsx)(l.a,{required:!0,id:"standard-required",label:"Card ID",defaultValue:"Hello World",className:"d-block"}),Object(w.jsxs)(h.a,{className:"w-100 mt-2",children:[Object(w.jsx)(O.a,{id:"demo-simple-select-label",children:"Product Type"}),Object(w.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:J,onChange:function(e){M(e.target.value)},children:[Object(w.jsx)(m.a,{value:10,children:"Product1"}),Object(w.jsx)(m.a,{value:20,children:"Product2"}),Object(w.jsx)(m.a,{value:30,children:"Product3"})]})]})]})}),Object(w.jsx)(j.a,{className:"justify-content-center",children:Object(w.jsx)(d.d,{onClick:W,color:"primary",className:"button-primary px-4 mt-2",children:"Submit"})})]})})]})]})]})})}}}]);
//# sourceMappingURL=17.b417bdc3.chunk.js.map