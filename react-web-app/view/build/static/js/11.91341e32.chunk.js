(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[11],{749:function(e,t,n){},784:function(e,t,n){},855:function(e,t,n){"use strict";n.r(t);var a=n(733),c=n(0),s=n.n(c),o=n(32),r=n(21),l=n(730),i=(n(749),n(189)),d=[{path:"/dashboard",exact:!0,name:"Dashboard",component:s.a.lazy((function(){return Promise.all([n.e(1),n.e(2)]).then(n.bind(null,870))}))},{path:"/dashboard/employees",exact:!0,name:"Employees",component:s.a.lazy((function(){return n.e(22).then(n.bind(null,838))}))},{path:"/dashboard/employees/details",exact:!0,name:"Employee Details",component:s.a.lazy((function(){return n.e(21).then(n.bind(null,839))}))},{path:"/dashboard/employees/create",exact:!0,name:"Create Employee",component:s.a.lazy((function(){return n.e(20).then(n.bind(null,840))}))},{path:"/dashboard/badges/",exact:!0,name:"Badges",component:s.a.lazy((function(){return Promise.all([n.e(7),n.e(13)]).then(n.bind(null,841))}))},{path:"/dashboard/account/",exact:!0,name:"Account",component:s.a.lazy((function(){return n.e(12).then(n.bind(null,848))}))},{path:"/dashboard/contacts/",exact:!0,name:"Contacts",component:s.a.lazy((function(){return n.e(15).then(n.bind(null,849))}))},{path:"/dashboard/billing/",exact:!0,name:"Billing",component:s.a.lazy((function(){return n.e(14).then(n.bind(null,850))}))},{path:"/dashboard/time",exact:!0,name:"Time",component:s.a.lazy((function(){return n.e(18).then(n.bind(null,851))}))},{path:"/dashboard/sitecontrol",exact:!0,name:"Site Control",component:s.a.lazy((function(){return n.e(17).then(n.bind(null,852))}))},{path:"/dashboard/scan-history",exact:!0,name:"Scan History",component:s.a.lazy((function(){return n.e(23).then(n.bind(null,853))}))}],b=n(15),j=Object(b.jsx)("div",{className:"pt-3 text-center",children:Object(b.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),u=function(){return Object(b.jsxs)("main",{className:"c-main",children:[Object(b.jsx)("div",{class:"hero-image"}),Object(b.jsx)(l.m,{className:"mt-4",children:Object(b.jsx)(c.Suspense,{fallback:j,children:Object(b.jsxs)(r.d,{children:[d.map((function(e,t){return e.component&&Object(b.jsx)(r.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(b.jsx)(l.s,{children:Object(b.jsx)(e.component,Object(o.a)({},t))})}},t)})),Object(b.jsx)(r.a,{from:"/",to:"/dashboard"})]})})})]})},m=s.a.memo(u),h=function(){return Object(b.jsx)(l.t,{fixed:!1,children:Object(b.jsxs)("div",{className:"mfs-auto",children:[Object(b.jsx)("span",{className:"mr-1",children:"Powered by"}),Object(b.jsx)("a",{href:"https://theaccountabilitybadge.com/",target:"_blank",rel:"noopener noreferrer",children:"ISK"})]})})},O=s.a.memo(h),x=n(731),p=n(195),f=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.sidebar.sidebarShow}));return s.a.useEffect((function(){console.log("sidebar --- ",t)}),[]),Object(b.jsxs)(l.w,{withSubheader:!0,children:[Object(b.jsx)(l.ab,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(t)||"responsive";e(Object(p.a)(n))}}),Object(b.jsx)(l.ab,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(t)&&"responsive";e(Object(p.a)(n))}}),Object(b.jsx)(l.x,{className:"d-md-down-none mr-auto",children:Object(b.jsx)(l.y,{className:"px-3",children:Object(b.jsx)(l.z,{to:"/dashboard",children:"Dashboard"})})}),Object(b.jsx)(l.x,{className:"px-3",children:Object(b.jsx)(y,{})})]})},g=n(62),y=function(){var e=Object(r.g)();return Object(b.jsxs)(l.o,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(b.jsxs)(l.r,{className:"c-header-nav-link",caret:!1,children:[Object(b.jsx)("div",{className:"c-avatar",children:Object(b.jsx)(l.A,{src:"assets/images/avatar.png",className:"c-avatar-img",alt:""})}),Object(b.jsx)("span",{children:"Admin User"})]}),Object(b.jsxs)(l.q,{className:"pt-0",placement:"bottom-end",children:[Object(b.jsx)(l.p,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(b.jsx)("strong",{children:"Account"})}),Object(b.jsxs)(l.p,{onClick:function(){g.a.get("logout/"+localStorage.getItem("user_id")+"/").then((function(t){console.log(t.status),(!0===t.data.success||401==t.status)&&(localStorage.clear(),e.push("/login"))})).catch((function(t){"401"==t.response.status&&(localStorage.clear(),e.push("/login"))}))},children:[Object(b.jsx)(x.b,{name:"cil-account-logout",className:"mfe-2"}),"Logout"]})]})]})},v=(n(784),function(){var e=Object(i.b)(),t=Object(r.g)(),n=Object(i.c)((function(e){return e.sidebar.sidebarShow}));Object(i.c)((function(e){return e.user.data.group}));return Object(c.useEffect)((function(){}),[]),Object(b.jsxs)(l.Q,{show:n,onShowChange:function(t){return e(Object(p.a)(t))},children:[Object(b.jsxs)(l.R,{className:"d-md-down-none text-center",to:"/",children:[Object(b.jsx)("img",{src:"assets/images/web-logo-2.png"}),Object(b.jsx)("h4",{id:"logoText",style:{marginTop:"8px",marginLeft:"5px"},className:"display-8 c-sidebar-brand-full",children:"The Accountibility Badge"})]}),Object(b.jsxs)(l.T,{children:[Object(b.jsx)(l.U,{to:"/dashboard",icon:"cil-speedometer",name:"Dashboard"}),Object(b.jsx)(l.V,{children:"Administration"}),Object(b.jsx)(l.U,{to:"/dashboard/employees",onClick:function(){t.push("/dashboard/users/show")},icon:"cil-group",name:"Employees"}),Object(b.jsx)(l.U,{to:"/dashboard/badges",icon:"cil-badge",name:"Badges"}),Object(b.jsx)(l.U,{to:"/dashboard/sitecontrol",icon:"cil-control",name:"Site Control"}),Object(b.jsx)(l.U,{to:"/dashboard/time",icon:"cil-clock",name:"Time"}),Object(b.jsx)(l.U,{to:"/dashboard/account",icon:"cil-calculator",name:"Account"}),Object(b.jsx)(l.U,{to:"/dashboard/billing",icon:"cil-money",name:"Billing"}),Object(b.jsx)(l.U,{to:"/dashboard/contacts",icon:"cil-people",name:"Contacts"})]}),Object(b.jsx)(l.S,{className:"c-d-md-down-none"})]})}),N=s.a.memo(v),w=n(416),S=n(36),k=n.n(S),C=n(53),E=n(812);var z=function(e){var t=e.text;return Object(b.jsx)("div",{children:t})},A=function(e){var t=Object(c.useState)({}),n=Object(a.a)(t,2),o=n[0],r=n[1],i=Object(c.useState)([]),d=Object(a.a)(i,2),j=(d[0],d[1]),u=Object(c.useState)({borderColor:"",borderStyle:""}),m=Object(a.a)(u,2),h=(m[0],m[1]),O=Object(c.useState)(),x=Object(a.a)(O,2),p=x[0],f=x[1];return s.a.useEffect((function(){switch(console.log("props data --- ",e.data),e.data.mood){case"Emergency":f("Emergency Level 1"),h({borderColor:"yellow",borderStyle:"solid"});break;case"Dangerous":f("Emergency Level 2"),h({borderColor:"red",borderStyle:"solid"});break;case"Most dangerous":f("Emergency Level 3"),h({borderColor:"#8b0000",borderStyle:"solid"});break;case"Much more dangerous":f("Emergency Level 4"),h({borderColor:"black",borderStyle:"solid"})}g.e.get("profile/details/"+e.data.user_id+"/").then(function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("lat from res --- ",t.data.data),r(t.data.data),j([Number(t.data.data.lat),Number(t.data.data.lng)]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{id:"wrapper",children:["Status: ",p,Object(b.jsxs)(l.e,{children:[Object(b.jsx)(l.i,{children:Object(b.jsx)("h3",{children:"Details of Card Owner"})}),Object(b.jsxs)(l.f,{children:[Object(b.jsx)(l.O,{className:"justify-content-center mb-3",children:Object(b.jsx)(l.l,{children:Object(b.jsx)(l.A,{className:"mx-auto rounded-circle",style:{height:"100px",width:"100px"},shape:"rounded",src:g.b+o.profile_pic})})}),Object(b.jsx)(l.O,{children:Object(b.jsx)(l.l,{children:Object(b.jsxs)("p",{className:"text-left",children:[Object(b.jsx)("strong",{children:"Name :"})," ",o.first_name+" "+o.last_name,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Email :"})," ",o.email,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Phone :"})," ",o.phone,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Registration :"})," ",o.registration,Object(b.jsx)("br",{}),Object(b.jsx)("strong",{children:"Address :"})," ",o.address,Object(b.jsx)("br",{})]})})}),Object(b.jsx)(l.O,{children:Object(b.jsxs)("div",{style:{height:"250px",width:"100%"},children:[Object(b.jsxs)("div",{className:"mb-2",children:["Lat : ",o.lat," & Lng: ",o.lng," "]}),Object(b.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyCbynC4V9qRGyQTR5-ssW8qb0yX4oNNnKc"},defaultCenter:{lat:23.7104,lng:90.4074},defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){e.map,e.maps},children:Object(b.jsx)(z,{lat:23.7104,lng:90.4074})})]})})]})]})]})})},L=n(750),U=n.n(L),T=n(192),_=n(193),B=n(194),D=n(426);t.default=function(){var e=Object(D.b)(),t=e.enqueueSnackbar,n=(e.closeSnackbar,Object(c.useState)(!1)),s=Object(a.a)(n,2),o=(s[0],s[1],Object(r.g)(),Object(i.b)()),l=new w.WebSocketBridge;return Object(c.useEffect)((function(){l.connect("ws://103.123.8.52:8075/nfc/notifications"),l.addEventListener("message",(function(e){console.log(e.data),"review.notification"==e.data.type?(t(e.data.officer_name+" got rated by "+e.data.name,{variant:"info"}),o(Object(B.b)())):(o(Object(T.b)()),o(Object(_.b)()),U()({content:Object(b.jsx)(A,{data:e.data}),buttons:["Close"]}))}))}),[]),Object(b.jsxs)(b.Fragment,{children:[null!==localStorage.getItem(g.f)===!1&&Object(b.jsx)(r.a,{to:"/login"}),Object(b.jsxs)("div",{className:"c-app c-default-layout",children:[Object(b.jsx)(N,{}),Object(b.jsxs)("div",{className:"c-wrapper",children:[Object(b.jsx)(f,{}),Object(b.jsx)("div",{className:"c-body",children:Object(b.jsx)(m,{})}),Object(b.jsx)(O,{})]})]})]})}}}]);
//# sourceMappingURL=11.91341e32.chunk.js.map