(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[11],{706:function(e,t,n){},746:function(e,t,n){},829:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(27),o=n(20),r=n(676),l=(n(706),n(167)),i=[{path:"/dashboard",exact:!0,name:"Dashboard",component:c.a.lazy((function(){return Promise.all([n.e(2),n.e(3)]).then(n.bind(null,844))}))},{path:"/dashboard/employees",exact:!0,name:"Employees",component:c.a.lazy((function(){return n.e(22).then(n.bind(null,812))}))},{path:"/dashboard/employees/details",exact:!0,name:"Employee Details",component:c.a.lazy((function(){return n.e(21).then(n.bind(null,813))}))},{path:"/dashboard/employees/create",exact:!0,name:"Create Employee",component:c.a.lazy((function(){return n.e(20).then(n.bind(null,814))}))},{path:"/dashboard/badges/",exact:!0,name:"Badges",component:c.a.lazy((function(){return Promise.all([n.e(1),n.e(8),n.e(13)]).then(n.bind(null,815))}))},{path:"/dashboard/account/",exact:!0,name:"Account",component:c.a.lazy((function(){return n.e(12).then(n.bind(null,822))}))},{path:"/dashboard/contacts/",exact:!0,name:"Contacts",component:c.a.lazy((function(){return n.e(15).then(n.bind(null,823))}))},{path:"/dashboard/billing/",exact:!0,name:"Billing",component:c.a.lazy((function(){return n.e(14).then(n.bind(null,824))}))},{path:"/dashboard/time",exact:!0,name:"Time",component:c.a.lazy((function(){return n.e(18).then(n.bind(null,825))}))},{path:"/dashboard/sitecontrol",exact:!0,name:"Site Control",component:c.a.lazy((function(){return n.e(17).then(n.bind(null,826))}))},{path:"/dashboard/scan-history",exact:!0,name:"Scan History",component:c.a.lazy((function(){return n.e(23).then(n.bind(null,827))}))}],d=n(16),b=Object(d.jsx)("div",{className:"pt-3 text-center",children:Object(d.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),j=function(){return Object(d.jsxs)("main",{className:"c-main",children:[Object(d.jsx)("div",{class:"hero-image"}),Object(d.jsx)(r.m,{className:"mt-4",children:Object(d.jsx)(a.Suspense,{fallback:b,children:Object(d.jsxs)(o.d,{children:[i.map((function(e,t){return e.component&&Object(d.jsx)(o.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(d.jsx)(r.s,{children:Object(d.jsx)(e.component,Object(s.a)({},t))})}},t)})),Object(d.jsx)(o.a,{from:"/",to:"/dashboard"})]})})})]})},h=c.a.memo(j),m=function(){return Object(d.jsx)(r.t,{fixed:!1,children:Object(d.jsxs)("div",{className:"mfs-auto",children:[Object(d.jsx)("span",{className:"mr-1",children:"Powered by"}),Object(d.jsx)("a",{href:"https://theaccountabilitybadge.com/",target:"_blank",rel:"noopener noreferrer",children:"ISK"})]})})},u=c.a.memo(m),x=n(677),O=n(170),p=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.sidebar.sidebarShow}));return c.a.useEffect((function(){console.log("sidebar --- ",t)}),[]),Object(d.jsxs)(r.w,{withSubheader:!0,children:[Object(d.jsx)(r.ab,{inHeader:!0,className:"ml-md-3 d-lg-none",onClick:function(){var n=!![!1,"responsive"].includes(t)||"responsive";e(Object(O.a)(n))}}),Object(d.jsx)(r.ab,{inHeader:!0,className:"ml-3 d-md-down-none",onClick:function(){var n=![!0,"responsive"].includes(t)&&"responsive";e(Object(O.a)(n))}}),Object(d.jsx)(r.x,{className:"d-md-down-none mr-auto",children:Object(d.jsx)(r.y,{className:"px-3",children:Object(d.jsx)(r.z,{to:"/dashboard",children:"Dashboard"})})}),Object(d.jsx)(r.x,{className:"px-3",children:Object(d.jsx)(f,{})})]})},g=n(165),f=function(){var e=Object(o.g)();return Object(d.jsxs)(r.o,{inNav:!0,className:"c-header-nav-items mx-2",direction:"down",children:[Object(d.jsxs)(r.r,{className:"c-header-nav-link",caret:!1,children:[Object(d.jsx)("div",{className:"c-avatar",children:Object(d.jsx)(r.A,{src:"assets/images/avatar.png",className:"c-avatar-img",alt:""})}),Object(d.jsx)("span",{children:"Admin User"})]}),Object(d.jsxs)(r.q,{className:"pt-0",placement:"bottom-end",children:[Object(d.jsx)(r.p,{header:!0,tag:"div",color:"light",className:"text-center",children:Object(d.jsx)("strong",{children:"Account"})}),Object(d.jsxs)(r.p,{onClick:function(){g.a.get("logout/"+localStorage.getItem("user_id")+"/").then((function(t){console.log(t.status),(!0===t.data.success||401==t.status)&&(localStorage.clear(),e.push("/login"))})).catch((function(t){"401"==t.response.status&&(localStorage.clear(),e.push("/login"))}))},children:[Object(d.jsx)(x.b,{name:"cil-account-logout",className:"mfe-2"}),"Logout"]})]})]})},y=(n(746),function(){var e=Object(l.b)(),t=Object(o.g)(),n=Object(l.c)((function(e){return e.sidebar.sidebarShow}));return Object(a.useEffect)((function(){}),[]),Object(d.jsxs)(r.Q,{show:n,onShowChange:function(t){return e(Object(O.a)(t))},children:[Object(d.jsxs)(r.R,{className:"d-md-down-none text-center",to:"/",children:[Object(d.jsx)("img",{src:"assets/images/web-logo-2.png"}),Object(d.jsx)("h4",{id:"logoText",style:{marginTop:"8px",marginLeft:"5px"},className:"display-8 c-sidebar-brand-full",children:"The Accountibility Badge"})]}),Object(d.jsxs)(r.T,{children:[Object(d.jsx)(r.U,{to:"/dashboard",icon:"cil-speedometer",name:"Dashboard"}),Object(d.jsx)(r.V,{children:"Administration"}),Object(d.jsx)(r.U,{to:"/dashboard/employees",onClick:function(){t.push("/dashboard/users/show")},icon:"cil-group",name:"Employees"}),Object(d.jsx)(r.U,{to:"/dashboard/badges",icon:"cil-badge",name:"Badges"}),Object(d.jsx)(r.U,{to:"/dashboard/sitecontrol",icon:"cil-control",name:"Site Control"}),Object(d.jsx)(r.U,{to:"/dashboard/time",icon:"cil-clock",name:"Time"}),Object(d.jsx)(r.U,{to:"/dashboard/account",icon:"cil-calculator",name:"Account"}),Object(d.jsx)(r.U,{to:"/dashboard/billing",icon:"cil-money",name:"Billing"}),Object(d.jsx)(r.U,{to:"/dashboard/contacts",icon:"cil-people",name:"Contacts"})]}),Object(d.jsx)(r.S,{className:"c-d-md-down-none"})]})}),v=c.a.memo(y),N=n(390),w=n(69),S=n.n(w),C=n(112),k=n(680),E=n(770);var z=function(e){var t=e.text;return Object(d.jsx)("div",{children:t})},A=function(e){var t=Object(a.useState)({}),n=Object(k.a)(t,2),s=n[0],o=n[1],l=Object(a.useState)([]),i=Object(k.a)(l,2),b=(i[0],i[1]),j=Object(a.useState)({borderColor:"",borderStyle:""}),h=Object(k.a)(j,2),m=(h[0],h[1]),u=Object(a.useState)(),x=Object(k.a)(u,2),O=x[0],p=x[1];return c.a.useEffect((function(){switch(console.log("props data --- ",e.data),e.data.mood){case"Emergency":p("Emergency Level 1"),m({borderColor:"yellow",borderStyle:"solid"});break;case"Dangerous":p("Emergency Level 2"),m({borderColor:"red",borderStyle:"solid"});break;case"Most dangerous":p("Emergency Level 3"),m({borderColor:"#8b0000",borderStyle:"solid"});break;case"Much more dangerous":p("Emergency Level 4"),m({borderColor:"black",borderStyle:"solid"})}g.e.get("profile/details/"+e.data.user_id+"/").then(function(){var e=Object(C.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("lat from res --- ",t.data.data),o(t.data.data),b([Number(t.data.data.lat),Number(t.data.data.lng)]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{id:"wrapper",children:["Status: ",O,Object(d.jsxs)(r.e,{children:[Object(d.jsx)(r.i,{children:Object(d.jsx)("h3",{children:"Details of Card Owner"})}),Object(d.jsxs)(r.f,{children:[Object(d.jsx)(r.O,{className:"justify-content-center mb-3",children:Object(d.jsx)(r.l,{children:Object(d.jsx)(r.A,{className:"mx-auto rounded-circle",style:{height:"100px",width:"100px"},shape:"rounded",src:g.b+s.profile_pic})})}),Object(d.jsx)(r.O,{children:Object(d.jsx)(r.l,{children:Object(d.jsxs)("p",{className:"text-left",children:[Object(d.jsx)("strong",{children:"Name :"})," ",s.first_name+" "+s.last_name,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Email :"})," ",s.email,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Phone :"})," ",s.phone,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Registration :"})," ",s.registration,Object(d.jsx)("br",{}),Object(d.jsx)("strong",{children:"Address :"})," ",s.address,Object(d.jsx)("br",{})]})})}),Object(d.jsx)(r.O,{children:Object(d.jsxs)("div",{style:{height:"250px",width:"100%"},children:[Object(d.jsxs)("div",{className:"mb-2",children:["Lat : ",s.lat," & Lng: ",s.lng," "]}),Object(d.jsx)(E.a,{bootstrapURLKeys:{key:"AIzaSyCbynC4V9qRGyQTR5-ssW8qb0yX4oNNnKc"},defaultCenter:{lat:23.7104,lng:90.4074},defaultZoom:11,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){e.map,e.maps},children:Object(d.jsx)(z,{lat:23.7104,lng:90.4074})})]})})]})]})]})})},L=n(707),U=n.n(L),T=n(169);n(401),t.default=function(){Object(o.g)();var e=Object(l.b)(),t=new N.WebSocketBridge;return Object(a.useEffect)((function(){t.connect("ws://103.123.8.52:8075/nfc/notifications"),t.addEventListener("message",(function(t){console.log(t.data),e(Object(T.b)()),U()({content:Object(d.jsx)(A,{data:t.data}),buttons:["Close"]})}))}),[]),Object(d.jsxs)(d.Fragment,{children:[null!==localStorage.getItem(g.f)===!1&&Object(d.jsx)(o.a,{to:"/login"}),Object(d.jsxs)("div",{className:"c-app c-default-layout",children:[Object(d.jsx)(v,{}),Object(d.jsxs)("div",{className:"c-wrapper",children:[Object(d.jsx)(p,{}),Object(d.jsx)("div",{className:"c-body",children:Object(d.jsx)(h,{})}),Object(d.jsx)(u,{})]})]})]})}}}]);
//# sourceMappingURL=11.f185339b.chunk.js.map