{"version":3,"sources":["views/charts/ChartBarSimple.js","components/dashboard/Dashboard.js"],"names":["ChartBarSimple","props","backgroundColor","pointHoverBackgroundColor","dataPoints","label","attributes","pointed","defaultDatasets","data","getColor","barPercentage","categoryPercentage","defaultOptions","maintainAspectRatio","legend","display","scales","xAxes","yAxes","datasets","options","labels","defaultProps","WidgetsDropdown","React","lazy","Dashboard","history","useHistory","useSelector","state","dashboard","useState","positiveRatingModalData","setPositiveRatingMOdalData","negativeRatingModalData","setNegativeRatingMOdalData","notifications","ratings","Array","from","forEach","item","index","review_type","push","negativeRatings","dispatch","useDispatch","showPositiveRating","setShowPositiveRating","showNegativeRating","setShowNegativeRating","useEffect","fetchDashboardData","fetchNotificationsThunk","fetchRatingsThunk","show","onClose","centered","closeButton","className","name","icon","Date","created_at","toLocaleTimeString","toLocaleDateString","src","BASE_URL","officer","profile_pic","alt","first_name","last_name","class","designation","editing","emptyStarColor","starCount","value","Number","star","comment","sm","md","lg","id","undefined","slice","map","rating","xs","onClick","console","log","handle_positive_modal","handle_negative_modal","color","type","status","length","notification","swal","content","buttons","show_scan_modal","user_id","nfc","user","nfc_number","lat","lng","variant","style","height","marginTop"],"mappings":"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","file":"static/js/14.ec6444d5.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { getColor } from '@coreui/utils'\r\nimport { CChartBar } from '@coreui/react-chartjs'\r\n\r\nconst ChartBarSimple = props => {\r\n\r\n  const {\r\n    backgroundColor,\r\n    pointHoverBackgroundColor,\r\n    dataPoints,\r\n    label,\r\n    pointed,\r\n    ...attributes\r\n  } = props\r\n\r\n  const defaultDatasets = (()=>{\r\n    return [\r\n      {\r\n        data: dataPoints,\r\n        backgroundColor: getColor(backgroundColor),\r\n        pointHoverBackgroundColor: getColor(pointHoverBackgroundColor),\r\n        label: label,\r\n        barPercentage: 0.5,\r\n        categoryPercentage: 1\r\n      }\r\n    ]\r\n  })()\r\n\r\n  const defaultOptions = (()=>{\r\n    return {\r\n      maintainAspectRatio: false,\r\n      legend: {\r\n        display: false\r\n      },\r\n      scales: {\r\n        xAxes: [{\r\n          display: false\r\n        }],\r\n        yAxes: [{\r\n          display: false\r\n        }]\r\n      }\r\n    }\r\n  })()\r\n\r\n  // render\r\n  return (\r\n    <CChartBar\r\n      {...attributes}\r\n      datasets={defaultDatasets}\r\n      options={defaultOptions}\r\n      labels={label}\r\n    />\r\n  )\r\n}\r\n\r\nChartBarSimple.propTypes = {\r\n  tag: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\r\n  className: PropTypes.string,\r\n  //\r\n  backgroundColor: PropTypes.string,\r\n  pointHoverBackgroundColor: PropTypes.string,\r\n  dataPoints: PropTypes.array,\r\n  label: PropTypes.string,\r\n  pointed: PropTypes.bool\r\n};\r\n\r\nChartBarSimple.defaultProps = {\r\n  backgroundColor: 'rgba(0,0,0,.2)',\r\n  dataPoints: [10, 22, 34, 46, 89,56],\r\n  label: 'Count'\r\n};\r\n\r\nexport default ChartBarSimple\r\n","import {\r\n  CCol,\r\n  CRow,\r\n  CTabs,\r\n  CNav,\r\n  CNavLink,\r\n  CNavItem,\r\n  CTabContent,\r\n  CTabPane,\r\n  CInput,\r\n  CCardBody,\r\n  CForm,\r\n  CCard,\r\n  CButton,\r\n  CBadge,\r\n  CDataTable,\r\n  CModalHeader, CModalBody, CModal,\r\n  CImg\r\n} from \"@coreui/react\";\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\nimport React, { useState } from \"react\";\r\nimport CIcon from \"@coreui/icons-react\";\r\nimport { fetchDashboardData } from \"src/store/slices/DashboardSlice\";\r\nimport MainChartExample from \"../../views/charts/ChartBarSimple\";\r\nimport \"./Dashboard.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchNotificationsThunk } from \"src/store/slices/NotificationSlice\";\r\nimport { fetchRatingsThunk } from \"src/store/slices/RatingSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BASE_URL } from \"src/config\";\r\nimport CardSwipped from \"../swipe/CardSwipped\";\r\nimport swal from '@sweetalert/with-react'\r\nconst WidgetsDropdown = React.lazy(() =>\r\n  import(\"../../views/widgets/WidgetsDropdown.js\")\r\n);\r\n\r\nconst Dashboard = () => {\r\n  let history = useHistory()\r\n  const data = useSelector(state => state.dashboard);\r\n  const [positiveRatingModalData, setPositiveRatingMOdalData] = useState()\r\n  const [negativeRatingModalData, setNegativeRatingMOdalData] = useState()\r\n  const notifications = useSelector(state => state.notifications)\r\n  const ratings = useSelector(state => {\r\n    let data = []\r\n    Array.from(state.ratings.data).forEach((item, index) => {\r\n      if (item.review_type == 1) {\r\n        data.push(item)\r\n      }\r\n    })\r\n    return data\r\n  })\r\n  const negativeRatings = useSelector(state => {\r\n    let data = []\r\n    Array.from(state.ratings.data).forEach((item, index) => {\r\n      if (item.review_type == 2) {\r\n        data.push(item)\r\n      }\r\n    })\r\n    return data\r\n  })\r\n  // const ratingsTableData = useSelector(state => {\r\n  //   let data = []\r\n  //   state.ratings.data.forEach((rate, index) => {\r\n  //     data.push({ '#': index + 1, 'Employee Name': rate.officer.first_name + ' ' + rate.officer.last_name, 'Badge Number': rate.officer.registration, 'Rating': Number(rate.star), 'Feedback': rate.comment, 'Date': new Date(rate.created_at).toLocaleDateString() + ' ' + new Date(rate.created_at).toLocaleTimeString() })\r\n  //   })\r\n  //   return data\r\n  // })\r\n  const dispatch = useDispatch()\r\n  const [showPositiveRating, setShowPositiveRating] = useState(false)\r\n  function show_scan_modal(data) {\r\n    swal({\r\n      content: (<CardSwipped data={data} />),\r\n      buttons: [false, 'Close']\r\n    })\r\n  }\r\n  function handle_positive_modal(data) {\r\n    console.log('pos rating  data', data)\r\n    //new Promise(setPositiveRatingMOdalData(data)), resolve).then(() => { console.log('state:', this.state) })\r\n    setPositiveRatingMOdalData(data)\r\n    setShowPositiveRating(true)\r\n  }\r\n  const [showNegativeRating, setShowNegativeRating] = useState(false)\r\n  function handle_negative_modal(data) {\r\n    console.log('neg rating view')\r\n    setNegativeRatingMOdalData(data)\r\n    setShowNegativeRating(true)\r\n  }\r\n  const toggle1 = () => {\r\n    setShowPositiveRating(!showPositiveRating);\r\n\r\n  }\r\n  const toggle2 = () => {\r\n    setShowNegativeRating(!showNegativeRating);\r\n  }\r\n  React.useEffect(() => {\r\n    dispatch(fetchDashboardData())\r\n    dispatch(fetchNotificationsThunk())\r\n    dispatch(fetchRatingsThunk())\r\n  }, []);\r\n  return (\r\n    <>\r\n      {/**positive rating modal */}\r\n      <CModal show={showPositiveRating} onClose={toggle1} centered>\r\n        <CModalHeader closeButton>Rating Details</CModalHeader>\r\n        <CModalBody>\r\n          <p className=\"time\"><CIcon name=\"cil-clock\" />{\" \"}<CIcon icon=\"cil-clock\" /><span>{new Date(positiveRatingModalData?.created_at).toLocaleTimeString() + ' - ' + new Date(positiveRatingModalData?.created_at).toLocaleDateString()}</span></p>\r\n          <p className=\"person-name\"> <CImg\r\n            src={BASE_URL + positiveRatingModalData?.officer.profile_pic}\r\n            className=\"c-avatar-img officer-img mr-1 ml-0\"\r\n            alt=''\r\n          />{positiveRatingModalData?.officer.first_name + ' ' + positiveRatingModalData?.officer.last_name}</p>\r\n          <p class=\"officer-designation\">Position:{positiveRatingModalData?.officer.designation}</p>\r\n          <StarRatingComponent\r\n            name=\"rate2\"\r\n            editing={false}\r\n            emptyStarColor={\"#6d706e\"}\r\n            starCount={5}\r\n            value={Number(positiveRatingModalData?.star)}\r\n          />\r\n          <p class=\"review mt-none\">Rated by:  {positiveRatingModalData?.name} </p>\r\n          <p className=\"review-text\">{positiveRatingModalData?.comment}</p>\r\n          <div class=\"container-fluid\">\r\n            <h6>Attachments</h6>\r\n            <div class=\"row mt-2\">\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/better-service.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/PDs.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/police-cap.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </CModalBody>\r\n      </CModal>\r\n\r\n      {/**negative rating modal */}\r\n      <CModal show={showNegativeRating} onClose={toggle2} centered>\r\n\r\n        <CModalHeader closeButton>Rating Details</CModalHeader>\r\n        <CModalBody>\r\n          <p className=\"time\"><CIcon name=\"cil-clock\" />{\" \"}<CIcon icon=\"cil-clock\" /><span>{new Date(negativeRatingModalData?.created_at).toLocaleTimeString() + ' - ' + new Date(negativeRatingModalData?.created_at).toLocaleDateString()}</span></p>\r\n          <p className=\"person-name\"> <CImg\r\n            src={BASE_URL + negativeRatingModalData?.officer.profile_pic}\r\n            className=\"c-avatar-img officer-img mr-1 ml-0\"\r\n            alt=''\r\n          />{negativeRatingModalData?.officer.first_name + ' ' + negativeRatingModalData?.officer.last_name}</p>\r\n          <p class=\"officer-designation\">Position:{negativeRatingModalData?.officer.designation}</p>\r\n          <StarRatingComponent\r\n            name=\"rate2\"\r\n            editing={false}\r\n            emptyStarColor={\"#6d706e\"}\r\n            starCount={5}\r\n            value={Number(negativeRatingModalData?.star)}\r\n          />\r\n          <p class=\"review mt-none\">Rated by:  {negativeRatingModalData?.name}</p>\r\n          <p className=\"review-text\">{negativeRatingModalData?.comment}</p>\r\n          <div class=\"container\">\r\n            <h6>Attachments</h6>\r\n            <div class=\"row mt-2\">\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/better-service.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/PDs.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n              <div class=\"col-md-6 col-sm-3 mt-1\">\r\n                <img src={'assets/images/police-cap.jpg'} className=\"attachment-img img-fluid\" />\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        </CModalBody>\r\n      </CModal>\r\n\r\n      <WidgetsDropdown data={data.data} />\r\n      <CRow>\r\n        {/**show ratings */}\r\n        <CCol sm=\"12\" md=\"4\" lg=\"4\">\r\n          <h4 id=\"traffic\" className=\"card-title mb-0\">Recent Ratings (Live Feed)</h4>\r\n          <div class=\"rating-holder mt-4\">\r\n            <CRow>\r\n              {ratings != undefined && Array.from(ratings.slice(0, 9)).map((rating) => (\r\n                <CCol xs=\"12\" sm=\"6\" md=\"12\" lg=\"10\">\r\n                  <CCard className=\"review-cards\">\r\n                    <CCardBody>\r\n                      <p className=\"time\"><CIcon name=\"cil-clock\" />{\" \"}<CIcon icon=\"cil-clock\" /><span>{new Date(rating.created_at).toLocaleTimeString() + ' - ' + new Date(rating.created_at).toLocaleDateString()}</span></p>\r\n                      <p className=\"person-name\"> <CImg\r\n                        src={BASE_URL + rating.officer.profile_pic}\r\n                        className=\"c-avatar-img officer-img mr-1 ml-0\"\r\n                        alt=''\r\n                      />{rating.officer.first_name} <span class=\"officer-designation\">{rating.officer.designation}</span></p>\r\n                      <StarRatingComponent\r\n                        name=\"rate2\"\r\n                        editing={false}\r\n                        emptyStarColor={\"#6d706e\"}\r\n                        starCount={5}\r\n                        value={Number(rating.star)}\r\n                      />\r\n                      <p class=\"review mt-none\">by {rating.name} </p>\r\n                      <p className=\"review-text\">{'\"' + rating.comment + '\"'}</p>\r\n                      <p><button className=\"btn-info btn\" onClick={() => handle_positive_modal(rating)}>View</button></p>\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              ))}\r\n            </CRow>\r\n          </div>\r\n        </CCol>\r\n        {/**___NEGATIVE REVIEW SHOW */}\r\n        <CCol sm=\"12\" md=\"4\" lg=\"4\">\r\n\r\n          <h4 id=\"traffic\" className=\"card-title negative-heading mb-0\">Negative Ratings (Live Feed)</h4>\r\n          <div class=\"rating-holder negative mt-4\">\r\n            <CRow>\r\n              {negativeRatings != undefined && Array.from(negativeRatings.slice(0, 9)).map((rating) => (\r\n                <CCol xs=\"12\" sm=\"6\" md=\"12\" lg=\"10\">\r\n                  <CCard className=\"review-cards border-danger\">\r\n                    <CCardBody>\r\n                      <p className=\"time\"><CIcon name=\"cil-clock\" />{\" \"}<span>{new Date(rating.created_at).toLocaleTimeString() + ' - ' + new Date(rating.created_at).toLocaleDateString()}</span></p>\r\n                      <p className=\"person-name\"> <CImg\r\n                        src={BASE_URL + rating.officer.profile_pic}\r\n                        className=\"c-avatar-img officer-img mr-1 ml-0\"\r\n                        alt=''\r\n                      />{rating.officer.first_name} <span class=\"officer-designation\">{rating.officer.designation}</span></p>\r\n                      {/* <p class=\"feedback\"></p> */}\r\n                      <StarRatingComponent\r\n                        name=\"rate2\"\r\n                        editing={false}\r\n                        emptyStarColor={\"#6d706e\"}\r\n                        starCount={5}\r\n                        value={Number(rating.star)}\r\n                      />\r\n                      <p class=\"review mt-none\">by {rating.name} </p>\r\n                      <p className=\"review-text\">{'\"' + rating.comment + '\"'}</p>\r\n                      <p><button className=\"btn-info btn\" onClick={() => handle_negative_modal(rating)}>View</button></p>\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              ))}\r\n            </CRow>\r\n          </div>\r\n\r\n        </CCol>\r\n        {/**latest scans show */}\r\n        <CCol sm=\"12\" md=\"4\" lg=\"4\">\r\n          <CCard className=\"noti-holder\">\r\n            <CCardBody>\r\n              <div class=\"scan-header\">\r\n                <h5 className=\"angle-left\">Recent Scans</h5>\r\n                <CButton color=\"primary\" type=\"button\" className=\"angle-right\" onClick={() => history.push('/dashboard/scan-history')}>\r\n                  {notifications.status == 'succeeded' ? 'Total' : 'loading'} <CBadge color=\"info\">{notifications.data.length}</CBadge>\r\n                  <span className=\"visually-hidden\">unread messages</span>\r\n                </CButton>\r\n              </div>\r\n              <div class=\"card-div mt-2 pb-1 pr-3\">\r\n                {notifications != undefined && Array.from(notifications.data.slice(0, 10)).map((notification) => (\r\n                  <CCard className=\"show-scans\" onClick={() => { show_scan_modal({ user_id: notification.nfc.user.id }) }}>\r\n                    <CCardBody>\r\n                      <CRow>\r\n                        <CCol sm=\"2\">\r\n                          <CImg\r\n                            src={BASE_URL + notification.nfc.user.profile_pic}\r\n                            className=\"c-avatar-img officer-img mr-1 ml-0\"\r\n                            alt=''\r\n                          />\r\n                        </CCol>\r\n                        <CCol sm=\"10\">\r\n                          <p>Badge No: {notification.nfc.nfc_number} of {notification.nfc.user.first_name + ' ' + notification.nfc.user.last_name} was scanned at {new Date(notification.created_at).toLocaleTimeString()} on {new Date(notification.created_at).toLocaleDateString()} near Lat: {notification.nfc.user.lat} and Lng: {notification.nfc.user.lng}\r\n                          </p>\r\n                        </CCol>\r\n                      </CRow>\r\n\r\n                      {/* <p>\r\n                              <CIcon name=\"cil-clock\" />{\" \"}\r\n                              <span> A moment ago </span>\r\n                            </p> */}\r\n                    </CCardBody>\r\n                  </CCard>\r\n                ))}\r\n                <CButton onClick={() => history.push('/dashboard/scan-history')} className=\"ml-2\" type=\"button\" variant=\"outline\" color=\"primary\">View all</CButton>\r\n              </div>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <CRow>\r\n        <CCol sm=\"12\" md=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardBody>\r\n              <CRow>\r\n                <CCol sm=\"5\">\r\n                  <h4 id=\"traffic\" className=\"card-title mb-0\">\r\n                    Ratings\r\n                  </h4>\r\n                  <div className=\"small text-muted\">\r\n                    {new Date().toLocaleDateString()}\r\n                  </div>\r\n                </CCol>\r\n                {/* <CCol sm=\"7\" className=\"d-none d-md-block\">\r\n                        <CButton color=\"primary\" className=\"float-right\">\r\n                          <CIcon name=\"cil-cloud-download\" />\r\n                        </CButton>\r\n                      </CCol> */}\r\n              </CRow>\r\n\r\n              <MainChartExample\r\n                style={{ height: \"300px\", marginTop: \"40px\" }}\r\n              />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"sourceRoot":""}