(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[14],{756:function(e,c,t){"use strict";var s=t(34),a=t(196),i=(t(0),t(757)),n=t(761),l=t(16),r=["backgroundColor","pointHoverBackgroundColor","dataPoints","label","pointed"],o=function(e){var c=e.backgroundColor,t=e.pointHoverBackgroundColor,o=e.dataPoints,d=e.label,j=(e.pointed,Object(a.a)(e,r)),m=[{data:o,backgroundColor:Object(i.getColor)(c),pointHoverBackgroundColor:Object(i.getColor)(t),label:d,barPercentage:.5,categoryPercentage:1}],b={maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{display:!1}]}};return Object(l.jsx)(n.a,Object(s.a)(Object(s.a)({},j),{},{datasets:m,options:b,labels:d}))};o.defaultProps={backgroundColor:"rgba(0,0,0,.2)",dataPoints:[10,22,34,46,89,56],label:"Count"},c.a=o},827:function(e,c,t){},861:function(e,c,t){"use strict";t.r(c);var s=t(735),a=t(733),i=t(742),n=t.n(i),l=t(0),r=t.n(l),o=t(734),d=t(191),j=t(756),m=(t(827),t(189)),b=t(193),O=t(194),h=t(23),f=t(40),x=t(740),u=t(741),g=t.n(u),v=t(16),p=r.a.lazy((function(){return t.e(5).then(t.bind(null,781))}));c.default=function(){var e=Object(h.g)(),c=Object(m.c)((function(e){return e.dashboard})),t=Object(l.useState)(),i=Object(s.a)(t,2),u=i[0],N=i[1],w=Object(l.useState)(),y=Object(s.a)(w,2),_=y[0],C=y[1],k=Object(m.c)((function(e){return e.notifications})),D=Object(m.c)((function(e){var c=[];return Array.from(e.ratings.data).forEach((function(e,t){1==e.review_type&&c.push(e)})),c})),S=Object(m.c)((function(e){var c=[];return Array.from(e.ratings.data).forEach((function(e,t){2==e.review_type&&c.push(e)})),c})),L=Object(m.b)(),T=Object(l.useState)(!1),B=Object(s.a)(T,2),A=B[0],P=B[1];var R=Object(l.useState)(!1),E=Object(s.a)(R,2),F=E[0],H=E[1];return r.a.useEffect((function(){L(Object(d.b)()),L(Object(b.b)()),L(Object(O.b)())}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(a.L,{show:A,onClose:function(){P(!A)},centered:!0,children:[Object(v.jsx)(a.O,{closeButton:!0,children:"Rating Details"}),Object(v.jsxs)(a.M,{children:[Object(v.jsxs)("p",{className:"time",children:[Object(v.jsx)(o.b,{name:"cil-clock"})," ",Object(v.jsx)(o.b,{icon:"cil-clock"}),Object(v.jsx)("span",{children:new Date(null===u||void 0===u?void 0:u.created_at).toLocaleTimeString()+" - "+new Date(null===u||void 0===u?void 0:u.created_at).toLocaleDateString()})]}),Object(v.jsxs)("p",{className:"person-name",children:[" ",Object(v.jsx)(a.B,{src:f.b+(null===u||void 0===u?void 0:u.officer.profile_pic),className:"c-avatar-img officer-img mr-1 ml-0",alt:""}),(null===u||void 0===u?void 0:u.officer.first_name)+" "+(null===u||void 0===u?void 0:u.officer.last_name)]}),Object(v.jsxs)("p",{class:"officer-designation",children:["Position:",null===u||void 0===u?void 0:u.officer.designation]}),Object(v.jsx)(n.a,{name:"rate2",editing:!1,emptyStarColor:"#6d706e",starCount:5,value:Number(null===u||void 0===u?void 0:u.star)}),Object(v.jsxs)("p",{class:"review mt-none",children:["Rated by:  ",null===u||void 0===u?void 0:u.name," "]}),Object(v.jsx)("p",{className:"review-text",children:null===u||void 0===u?void 0:u.comment}),Object(v.jsxs)("div",{class:"container-fluid",children:[Object(v.jsx)("h6",{children:"Attachments"}),Object(v.jsxs)("div",{class:"row mt-2",children:[Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/better-service.jpg",className:"attachment-img img-fluid"})}),Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/PDs.jpg",className:"attachment-img img-fluid"})}),Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/police-cap.jpg",className:"attachment-img img-fluid"})})]})]})]})]}),Object(v.jsxs)(a.L,{show:F,onClose:function(){H(!F)},centered:!0,children:[Object(v.jsx)(a.O,{closeButton:!0,children:"Rating Details"}),Object(v.jsxs)(a.M,{children:[Object(v.jsxs)("p",{className:"time",children:[Object(v.jsx)(o.b,{name:"cil-clock"})," ",Object(v.jsx)(o.b,{icon:"cil-clock"}),Object(v.jsx)("span",{children:new Date(null===_||void 0===_?void 0:_.created_at).toLocaleTimeString()+" - "+new Date(null===_||void 0===_?void 0:_.created_at).toLocaleDateString()})]}),Object(v.jsxs)("p",{className:"person-name",children:[" ",Object(v.jsx)(a.B,{src:f.b+(null===_||void 0===_?void 0:_.officer.profile_pic),className:"c-avatar-img officer-img mr-1 ml-0",alt:""}),(null===_||void 0===_?void 0:_.officer.first_name)+" "+(null===_||void 0===_?void 0:_.officer.last_name)]}),Object(v.jsxs)("p",{class:"officer-designation",children:["Position:",null===_||void 0===_?void 0:_.officer.designation]}),Object(v.jsx)(n.a,{name:"rate2",editing:!1,emptyStarColor:"#6d706e",starCount:5,value:Number(null===_||void 0===_?void 0:_.star)}),Object(v.jsxs)("p",{class:"review mt-none",children:["Rated by:  ",null===_||void 0===_?void 0:_.name]}),Object(v.jsx)("p",{className:"review-text",children:null===_||void 0===_?void 0:_.comment}),Object(v.jsxs)("div",{class:"container",children:[Object(v.jsx)("h6",{children:"Attachments"}),Object(v.jsxs)("div",{class:"row mt-2",children:[Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/better-service.jpg",className:"attachment-img img-fluid"})}),Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/PDs.jpg",className:"attachment-img img-fluid"})}),Object(v.jsx)("div",{class:"col-md-6 col-sm-3 mt-1",children:Object(v.jsx)("img",{src:"assets/images/police-cap.jpg",className:"attachment-img img-fluid"})})]})]})]})]}),Object(v.jsx)(p,{data:c.data}),Object(v.jsxs)(a.T,{children:[Object(v.jsxs)(a.l,{sm:"12",md:"4",lg:"4",children:[Object(v.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Recent Ratings (Live Feed)"}),Object(v.jsx)("div",{class:"rating-holder mt-4",children:Object(v.jsx)(a.T,{children:void 0!=D&&Array.from(D.slice(0,9)).map((function(e){return Object(v.jsx)(a.l,{xs:"12",sm:"6",md:"12",lg:"10",children:Object(v.jsx)(a.e,{className:"review-cards",children:Object(v.jsxs)(a.f,{children:[Object(v.jsxs)("p",{className:"time",children:[Object(v.jsx)(o.b,{name:"cil-clock"})," ",Object(v.jsx)(o.b,{icon:"cil-clock"}),Object(v.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()+" - "+new Date(e.created_at).toLocaleDateString()})]}),Object(v.jsxs)("p",{className:"person-name",children:[" ",Object(v.jsx)(a.B,{src:f.b+e.officer.profile_pic,className:"c-avatar-img officer-img mr-1 ml-0",alt:""}),e.officer.first_name," ",Object(v.jsx)("span",{class:"officer-designation",children:e.officer.designation})]}),Object(v.jsx)(n.a,{name:"rate2",editing:!1,emptyStarColor:"#6d706e",starCount:5,value:Number(e.star)}),Object(v.jsxs)("p",{class:"review mt-none",children:["by ",e.name," "]}),Object(v.jsx)("p",{className:"review-text",children:'"'+e.comment+'"'}),Object(v.jsx)("p",{children:Object(v.jsx)("button",{className:"btn-info btn",onClick:function(){return function(e){console.log("pos rating  data",e),N(e),P(!0)}(e)},children:"View"})})]})})})}))})})]}),Object(v.jsxs)(a.l,{sm:"12",md:"4",lg:"4",children:[Object(v.jsx)("h4",{id:"traffic",className:"card-title negative-heading mb-0",children:"Negative Ratings (Live Feed)"}),Object(v.jsx)("div",{class:"rating-holder negative mt-4",children:Object(v.jsx)(a.T,{children:void 0!=S&&Array.from(S.slice(0,9)).map((function(e){return Object(v.jsx)(a.l,{xs:"12",sm:"6",md:"12",lg:"10",children:Object(v.jsx)(a.e,{className:"review-cards border-danger",children:Object(v.jsxs)(a.f,{children:[Object(v.jsxs)("p",{className:"time",children:[Object(v.jsx)(o.b,{name:"cil-clock"})," ",Object(v.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()+" - "+new Date(e.created_at).toLocaleDateString()})]}),Object(v.jsxs)("p",{className:"person-name",children:[" ",Object(v.jsx)(a.B,{src:f.b+e.officer.profile_pic,className:"c-avatar-img officer-img mr-1 ml-0",alt:""}),e.officer.first_name," ",Object(v.jsx)("span",{class:"officer-designation",children:e.officer.designation})]}),Object(v.jsx)(n.a,{name:"rate2",editing:!1,emptyStarColor:"#6d706e",starCount:5,value:Number(e.star)}),Object(v.jsxs)("p",{class:"review mt-none",children:["by ",e.name," "]}),Object(v.jsx)("p",{className:"review-text",children:'"'+e.comment+'"'}),Object(v.jsx)("p",{children:Object(v.jsx)("button",{className:"btn-info btn",onClick:function(){return function(e){console.log("neg rating view"),C(e),H(!0)}(e)},children:"View"})})]})})})}))})})]}),Object(v.jsx)(a.l,{sm:"12",md:"4",lg:"4",children:Object(v.jsx)(a.e,{className:"noti-holder",children:Object(v.jsxs)(a.f,{children:[Object(v.jsxs)("div",{class:"scan-header",children:[Object(v.jsx)("h5",{className:"angle-left",children:"Recent Scans"}),Object(v.jsxs)(a.d,{color:"primary",type:"button",className:"angle-right",onClick:function(){return e.push("/dashboard/scan-history")},children:["succeeded"==k.status?"Total":"loading"," ",Object(v.jsx)(a.a,{color:"info",children:k.data.length}),Object(v.jsx)("span",{className:"visually-hidden",children:"unread messages"})]})]}),Object(v.jsxs)("div",{class:"card-div mt-2 pb-1 pr-3",children:[void 0!=k&&Array.from(k.data.slice(0,10)).map((function(e){return Object(v.jsx)(a.e,{className:"show-scans",onClick:function(){!function(e){g()({content:Object(v.jsx)(x.a,{data:e}),buttons:[!1,"Close"]})}({user_id:e.nfc.user.id})},children:Object(v.jsx)(a.f,{children:Object(v.jsxs)(a.T,{children:[Object(v.jsx)(a.l,{sm:"2",children:Object(v.jsx)(a.B,{src:f.b+e.nfc.user.profile_pic,className:"c-avatar-img officer-img mr-1 ml-0",alt:""})}),Object(v.jsx)(a.l,{sm:"10",children:Object(v.jsxs)("p",{children:["Badge No: ",e.nfc.nfc_number," of ",e.nfc.user.first_name+" "+e.nfc.user.last_name," was scanned at ",new Date(e.created_at).toLocaleTimeString()," on ",new Date(e.created_at).toLocaleDateString()," near Lat: ",e.nfc.user.lat," and Lng: ",e.nfc.user.lng]})})]})})})})),Object(v.jsx)(a.d,{onClick:function(){return e.push("/dashboard/scan-history")},className:"ml-2",type:"button",variant:"outline",color:"primary",children:"View all"})]})]})})})]}),Object(v.jsx)(a.T,{children:Object(v.jsx)(a.l,{sm:"12",md:"12",lg:"12",children:Object(v.jsx)(a.e,{children:Object(v.jsxs)(a.f,{children:[Object(v.jsx)(a.T,{children:Object(v.jsxs)(a.l,{sm:"5",children:[Object(v.jsx)("h4",{id:"traffic",className:"card-title mb-0",children:"Ratings"}),Object(v.jsx)("div",{className:"small text-muted",children:(new Date).toLocaleDateString()})]})}),Object(v.jsx)(j.a,{style:{height:"300px",marginTop:"40px"}})]})})})})]})}}}]);
//# sourceMappingURL=14.c377f63e.chunk.js.map