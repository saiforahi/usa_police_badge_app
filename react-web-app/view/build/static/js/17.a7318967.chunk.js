(this["webpackJsonpusa-nfc-web-app"]=this["webpackJsonpusa-nfc-web-app"]||[]).push([[17],{825:function(e,t,n){},896:function(e,t,n){"use strict";n.r(t);var c=n(12),a=n(735),s=n(0),r=n.n(s),i=(n(825),n(734)),l=n(733),d=n(892),o=n(888),j=n(867),b=n(863),u=n(891),m=n(895),h=n(885),O=n(866),p=n(884),x=n(731),f=n(40),g=n(189),y=n(737),v=n.n(y),C=n(16),w=function(e){var t=Object(s.useState)(!0),n=Object(a.a)(t,2),c=n[0],i=n[1],d=Object(s.useState)(),o=Object(a.a)(d,2),j=o[0],b=o[1],u=Object(s.useState)(),m=Object(a.a)(u,2),h=m[0],O=m[1],p=Object(s.useState)(),x=Object(a.a)(p,2),y=x[0],w=x[1],N=Object(g.c)((function(e){var t=[];return Array.from(e.employees.data).forEach((function(e,n){t.push({id:e.id,name:e.first_name+" "+e.last_name})})),t})),S=function(){i(!1),e.parentCallback(!1)};return r.a.useEffect((function(){e.data&&O(e.data["Badge Number"])}),[c]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(l.L,{size:"lg",show:c,onClose:S,centered:!0,children:[Object(C.jsx)(l.O,{closeButton:!0,children:Object(C.jsx)("h3",{children:"Create a new badge and Assign to an officer"})}),Object(C.jsx)(l.M,{children:Object(C.jsx)(l.e,{style:{border:"none"},children:Object(C.jsxs)(l.f,{children:[Object(C.jsxs)(l.v,{className:"mb-3",children:[Object(C.jsx)(l.J,{children:"NFC"}),Object(C.jsx)(l.C,{value:h,placeholder:"Enter new NFC number",onChange:function(e){return O(e.target.value)},type:"text"})]}),Object(C.jsxs)(l.v,{className:"mb-3",children:[Object(C.jsx)(l.J,{children:"Registration No"}),Object(C.jsx)(l.C,{value:j,placeholder:"Enter registration no",onChange:function(e){return b(e.target.value)},type:"text"})]}),Object(C.jsxs)(l.v,{className:"mb-3",children:[Object(C.jsx)(l.J,{children:"Officer"}),Object(C.jsx)(l.U,{value:y,onChange:function(e){return w(e.target.value)},children:N.length>0&&Array.from(N).map((function(e){return Object(C.jsx)("option",{value:e.id,children:e.name},e.id)}))})]})]})})}),Object(C.jsxs)(l.N,{children:[Object(C.jsx)(l.d,{onClick:function(){var e=new FormData;e.append("nfc_number",h),e.append("mac_address",j),e.append("user",y),f.c.post("employee/badge/add/",e).then((function(e){v()("Assigned!","New badge added and assigned","success").then((function(){S()}))}))},color:"primary",children:"Assign"})," ",Object(C.jsx)(l.d,{onClick:S,color:"secondary",children:"Cancel"})]})]})})},N=n(198);t.default=function(){var e=Object(g.b)(),t=Object(s.useState)(!1),n=Object(a.a)(t,2),y=n[0],S=n[1],k=Object(s.useState)(),A=Object(a.a)(k,2),_=A[0],E=A[1],B=r.a.useState(!1),D=Object(a.a)(B,2),T=D[0],F=D[1],P=r.a.useState(""),z=Object(a.a)(P,2),J=z[0],M=z[1],U=Object(s.useState)([]),q=Object(a.a)(U,2),G=q[0],I=q[1],L=(Object(x.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),function(){F(!1)});function W(e){v()("Sorry!","This service is not available now","warning")}return r.a.useEffect((function(){e(Object(N.b)()),f.e.get("employee/badge/info/").then((function(e){if("True"==e.data.success){console.log(e.data.data);for(var t=[],n=0;n<e.data.data.length;n++){var c=e.data.data[n];t.push({"#":n+1,id:c.id,"Badge Number":c.nfc_number,"Created Date":new Date(c.created_at).toLocaleDateString(),"Assigned To":c.user.first_name,Scans:"","Global Scans":""})}I(t)}}))}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(l.T,{children:[Object(C.jsx)(l.l,{md:"12",children:Object(C.jsxs)(l.e,{children:[Object(C.jsx)(l.i,{children:Object(C.jsx)("h4",{className:"table-header",children:"Badges"})}),Object(C.jsxs)(l.f,{children:[Object(C.jsxs)("div",{class:"custom-header",children:[Object(C.jsxs)(l.u,{className:"d-flex custom-form mt-2 mb-2",children:[Object(C.jsx)(l.C,{type:"search",className:"me-2",placeholder:"Search"}),Object(C.jsx)(l.d,{type:"button",color:"primary",variant:"outline",children:"Search"})]}),Object(C.jsx)(l.d,{type:"button",className:"button-primary-small",children:"Export"})]}),Object(C.jsx)(l.n,{items:G,fields:[{key:"#",_style:{width:"5%"},_classes:"font-weight-bold"},"Badge Number","Created Date","Assigned To","Scans","Global Scans",{key:"Action",label:"",_style:{width:"12%"},sorter:!0,filter:!1}],primary:!0,hover:!0,striped:!0,bordered:!0,sorter:!0,columnFilter:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{Action:function(e){var t;return Object(C.jsxs)("td",{children:[Object(C.jsx)(l.d,(t={onClick:function(){},type:"button",size:"sm",color:"danger"},Object(c.a)(t,"onClick",(function(){return W()})),Object(c.a)(t,"children","Delete"),t))," ",Object(C.jsx)(l.d,{size:"sm",type:"button",color:"primary",id:"dropdownMenu",onClick:function(){return W()},children:"Assign"})]})}}})]})]})}),Object(C.jsxs)(l.l,{md:"12",class:"button-holder",children:[Object(C.jsx)(l.d,{onClick:function(){return W()},className:"button-primary assign-align",type:"button",children:"Assign all unassigned"}),Object(C.jsxs)(l.d,{type:"button",className:"button-primary add-align",id:"dropdownMenu2","data-toggle":"dropdown","aria-expanded":"false",onClick:function(){E(null),S(!0)},children:["Add New ",Object(C.jsx)(i.a,{name:"cil-plus",size:"xl"})]}),y&&Object(C.jsx)(w,{parentCallback:function(){var e;S(e)},data:_}),Object(C.jsxs)("div",{class:"dropdown",children:[Object(C.jsxs)("div",{class:"dropdown-menu mt-2","aria-labelledby":"dropdownMenu2",children:[Object(C.jsx)("button",{class:"dropdown-item",type:"button",children:"Buy New"}),Object(C.jsx)("div",{class:"dropdown-divider"}),Object(C.jsx)("button",{type:"button",class:"dropdown-item",onClick:function(){F(!0)},children:"Use Existing"})]}),Object(C.jsx)(o.a,{open:T,onClose:L,"aria-labelledby":"form-dialog-title",className:"d-block",children:Object(C.jsxs)("div",{className:"modal-comp",children:[Object(C.jsx)(u.a,{id:"form-dialog-title",children:"Use Existing Badge"}),Object(C.jsx)(b.a,{children:Object(C.jsxs)("form",{children:[Object(C.jsx)(d.a,{required:!0,id:"standard-required",label:"Card ID",defaultValue:"Hello World",className:"d-block"}),Object(C.jsxs)(O.a,{className:"w-100 mt-2",children:[Object(C.jsx)(m.a,{id:"demo-simple-select-label",children:"Product Type"}),Object(C.jsxs)(p.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:J,onChange:function(e){M(e.target.value)},children:[Object(C.jsx)(h.a,{value:10,children:"Product1"}),Object(C.jsx)(h.a,{value:20,children:"Product2"}),Object(C.jsx)(h.a,{value:30,children:"Product3"})]})]})]})}),Object(C.jsx)(j.a,{className:"justify-content-center",children:Object(C.jsx)(l.d,{onClick:L,color:"primary",className:"button-primary px-4 mt-2",children:"Submit"})})]})})]})]})]})})}}}]);
//# sourceMappingURL=17.a7318967.chunk.js.map