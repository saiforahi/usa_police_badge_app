{"version":3,"sources":["components/officerview/account/Account.js"],"names":["Account","data","useSelector","state","user","useState","avatar","setAvatar","image","setImage","inputFile","useRef","email","setEmail","first_name","setFirstName","last_name","setLastName","phone","setPhone","registration","setRegistration","address","setAddress","designation","setDesignation","dob","setDOB","hair","setHair","eyes","setEyes","dispatch","useDispatch","populate_existing_data","BASE_URL","profile_pic","date_of_birth","React","useEffect","className","xs","md","onClick","document","getElementById","click","style","height","width","cursor","shape","src","type","id","ref","display","onChange","event","file","target","files","URL","createObjectURL","row","htmlFor","value","name","placeholder","autoComplete","rows","formData","FormData","append","undefined","FILE_API","post","localStorage","getItem","then","res","console","log","success","fetchDetailsThunk","swal","catch","err","response","size","color"],"mappings":"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","file":"static/js/5.81345b4b.chunk.js","sourcesContent":["import React,{useState,useRef} from 'react'\r\nimport { CContainer,CCard, CRow,CCol,CCardBody,CLabel,CFormText,CInputCheckbox,CInputRadio,CSwitch,CInputFile,CSelect,CCardFooter,CCardHeader,CForm,CTextarea,CInputGroupText,CInput,CInputGroup,CInputGroupPrepend,CButton,CImg, CFormGroup } from '@coreui/react'\r\nimport { CIcon } from '@coreui/icons-react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { BASE_URL,FILE_API } from 'src/config'\r\nimport swal from 'sweetalert'\r\nimport './Account.css'\r\nimport { fetchDetailsThunk } from 'src/store/slices/UserSlice'\r\nconst Account = ()=>{\r\n    const data = useSelector(state => state.user.data)\r\n    const [avatar,setAvatar] = useState()\r\n    const [image,setImage]=useState()\r\n    const inputFile = useRef(null) \r\n    const [email,setEmail] = useState('')\r\n    const [first_name,setFirstName]=useState('')\r\n    const [last_name,setLastName] = useState('')\r\n    const [phone,setPhone] = useState('')\r\n    const [registration,setRegistration] = useState('')\r\n    const [address,setAddress] = useState('')\r\n    const [designation,setDesignation] = useState(\"\")\r\n    const [dob,setDOB]=useState('')\r\n    const [hair,setHair] = useState('')\r\n    const [eyes,setEyes]=useState('')\r\n    const dispatch = useDispatch()\r\n    function onImageChange(file){\r\n        setImage(file)\r\n        setAvatar(URL.createObjectURL(file))\r\n        //update_profile()\r\n    }\r\n    const update_info =()=>{\r\n        let formData = new FormData()\r\n        formData.append('first_name',first_name)\r\n        formData.append('last_name',last_name)\r\n        formData.append('email',email)\r\n        formData.append('phone',phone)\r\n        formData.append('registration',registration)\r\n        formData.append('address',address)\r\n        formData.append('designation',designation)\r\n        formData.append('date_of_birth',dob)\r\n        formData.append('hair',hair)\r\n        formData.append('eyes',eyes)\r\n        if(image!=undefined){\r\n            formData.append(\"profile_pic\", image);\r\n        }\r\n        FILE_API.post('employee/profile/update/'+localStorage.getItem('user_id')+'/',formData).then((res)=>{\r\n            console.log('update result ---- ',res.data)\r\n            if(res.data.success==\"True\"){\r\n                dispatch(fetchDetailsThunk(localStorage.getItem('user_id')))\r\n                swal('Updated','Profile updated successfully','success')\r\n            }\r\n        }).catch((err)=>{\r\n            console.log('err -- ',err.response)\r\n        })\r\n    }\r\n    const onButtonClick = () => {\r\n        // `current` points to the mounted file input element\r\n        document.getElementById('file').click();\r\n       //inputFile.current.click();\r\n    };\r\n    function populate_existing_data(){\r\n        setFirstName(data.first_name)\r\n        setLastName(data.last_name)\r\n        setEmail(data.email)\r\n        setPhone(data.phone)\r\n        setAddress(data.address)\r\n        setRegistration(data.registration)\r\n        setDesignation(data.designation)\r\n        setAvatar(BASE_URL+data.profile_pic)\r\n        setDOB(data.date_of_birth)\r\n        setHair(data.hair)\r\n        setEyes(data.eyes)\r\n    }\r\n    React.useEffect(()=>{\r\n        populate_existing_data()\r\n    },[])\r\n    return(\r\n        <>\r\n        <CContainer>\r\n        <CRow className=\"justify-content-center\">\r\n        <CCol xs=\"12\" md=\"6\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              <h3>Account details</h3>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              <CForm className=\"form-horizontal\">\r\n                {/* <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel>Username</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <p className=\"form-control-static\">{data.username}</p>\r\n                  </CCol>\r\n                </CFormGroup> */}\r\n                <CRow className=\"justify-content-center\">\r\n                    <CImg onClick={onButtonClick} className=\"mx-auto\" style={{height:\"100px\",width:\"116px\",cursor:\"pointer\"}} shape=\"rounded\" src={avatar} />\r\n                </CRow>\r\n                <hr/>\r\n                <CRow className=\"justify-content-center\">\r\n                    <input type='file' id='file' ref={inputFile} style={{display: 'none'}} onChange={(event)=>onImageChange(event.target.files[0])}/>\r\n                    {/* <CButton type=\"button\" onClick={onButtonClick}>change</CButton> */}\r\n                </CRow>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"text-input\">First Name</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={first_name} onChange={(event)=>setFirstName(event.target.value)} id=\"text-input\" name=\"text-input\" placeholder=\"Text\" />\r\n                    <CFormText>Your first name</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"text-input\">Last Name</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={last_name} onChange={(event)=>setLastName(event.target.value)} id=\"text-input\" name=\"text-input\" placeholder=\"Text\" />\r\n                    <CFormText>Your Last name</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"email-input\">Email</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"email\" value={email} onChange={(event)=>setEmail(event.target.value)} id=\"email-input\" name=\"email-input\" placeholder=\"Enter Email\" autoComplete=\"email\"/>\r\n                    <CFormText className=\"help-block\">Please enter your email</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"Phone-input\">Phone</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={phone} onChange={(event)=>setPhone(event.target.value)} id=\"Phone-input\" name=\"Phone-input\" placeholder=\"Enter Phone\" autoComplete=\"phone\"/>\r\n                    <CFormText className=\"help-block\">Please enter your phone no</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"Phone-input\">Registration</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={registration} onChange={(event)=>setRegistration(event.target.value)} id=\"Phone-input\" name=\"Phone-input\" placeholder=\"Enter Phone\" autoComplete=\"phone\"/>\r\n                    <CFormText className=\"help-block\">Please enter your registration no</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"Phone-input\">Designation</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={designation} onChange={(event)=>setDesignation(event.target.value)} id=\"Phone-input\" name=\"Phone-input\" placeholder=\"Enter Phone\" autoComplete=\"phone\"/>\r\n                    <CFormText className=\"help-block\">Please enter your designation</CFormText>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"date-input\">Date of Birth</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"date\" value={dob} onChange={(event)=>setDOB(event.target.value)} id=\"date-input\" name=\"date-input\" />\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"disabled-input\">Color of Hairs</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={hair} onChange={(event)=>setHair(event.target.value)} id=\"disabled-input\" name=\"disabled-input\"/>\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"disabled-input\">Color of Eyes</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CInput type=\"text\" value={eyes} onChange={(event)=>setEyes(event.target.value)} id=\"disabled-input\" name=\"disabled-input\" />\r\n                  </CCol>\r\n                </CFormGroup>\r\n                <CFormGroup row>\r\n                  <CCol md=\"3\">\r\n                    <CLabel htmlFor=\"textarea-input\">Address</CLabel>\r\n                  </CCol>\r\n                  <CCol xs=\"12\" md=\"9\">\r\n                    <CTextarea \r\n                      name=\"textarea-input\" \r\n                      id=\"textarea-input\" \r\n                      rows=\"9\"\r\n                      placeholder=\"address...\" \r\n                      value={address}\r\n                      onChange={(event)=>setAddress(event.target.value)}\r\n                    />\r\n                  </CCol>\r\n                </CFormGroup>\r\n              </CForm>\r\n            </CCardBody>\r\n            <CCardFooter>\r\n              <CButton type=\"button\" onClick={update_info} size=\"sm\" color=\"primary\"><CIcon name=\"cil-scrubber\" /> Submit</CButton> <CButton type=\"button\" onClick={()=>populate_existing_data()} size=\"sm\" color=\"danger\"><CIcon name=\"cil-ban\" /> Reset</CButton>\r\n            </CCardFooter>\r\n          </CCard>\r\n          \r\n        </CCol>\r\n        \r\n        </CRow>\r\n        \r\n        </CContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Account"],"sourceRoot":""}